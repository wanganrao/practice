<?php

class Index_Controller extends Controller {

    public function __construct() {
        parent::__construct();
    }

    public function index() {

        // Load page template file
        $this->Load_View('index');

        // load CSS file
        $this->view->Set_CSS('public' . DS . 'css' . DS . 'style.css');
        $this->view->Set_JS('public' . DS . 'js' . DS . 'js.js');
        // Set page title
        $this->view->Set_Site_Title("MCQ Practice UPSC CSE");

        // HEADER
        $header = new View();
        $header->Assign('app_title', "MCQ Forum");
        $this->Assign('header', $header->Render('header', false));

        // FOOTER
        $footer = new View();
        $this->Assign('footer', $footer->Render('footer', false));


        // content string
        $content = "";

        // questions
        $qModel = new Questions_Model();
        $qContentView = new View();
        $qContentView->Assign("questions", $qModel->getQuestions());
        $content.= $qContentView->Render("question" . DS . "questions", false);

        //pagination
        $pgModel = new Pagination_Model();
        $pgContentView = new View();
        $pgContentView->Assign("total_no_of_questions",$pgModel->getTotalQuestions());
        $content.= $pgContentView->Render("pagination" . DS . "pagination", false);

        //assign to the main content of index view
        $this->Assign('content', $content);
    }

}
